<div class="row">
    <app-header></app-header>
</div>
<div class="flex-container">
    <div class="menubar">
      <app-menubar></app-menubar>
    </div>
    <div class="right_sidebar">
        <div class="top_header">
            <label>Vehicle BA No: </label>
            <label>{{getDatetime}}</label>
        </div>
        <div *ngIf="!enabletable && !enablereport" class="d-flex flex-column">
            <form [formGroup]="form">
                <div class="row">
                    <div class="col-12">
                        <label class="form-label required">Trainee ID</label>
                        <input type="text" placeholder="Enter trainee id" class="form-control" formControlName="trainee_id">
                    </div>
                    <div class="py-3">
                        <button type="submit" class="btn btn-primary" (click)="getreports()">Submit</button>
                    </div>
                </div>
            </form>         
        </div>
        <div *ngIf="enabletable && !enablereport">
            <div>
                <img src="./assets/images/back_button.png" class="back_button" (click)="enabletable=false;">
            </div>
            <div class="row py-3">
                <table class="table table-bordered table-hover" id="viewReportTable">
                    <thead class="table_column">
                          <tr>
                            <th>Sl.no</th>
                            <th>Date</th>
                            <th>Report Id</th>
                            <th>Trainee Id</th>
                            <th>Name</th>
                            <th>Action</th>
                          </tr>	
                          <tr *ngFor="let item of individual_report;let i=index;">
                            <td>{{i+1}}.</td>
                            <td>{{ item.created_at | date:'mediumDate' }}</td>
                            <td></td>
                            <td>{{item.trainee.unique_ref_id}}</td>
                            <td>{{item.trainee.name}}</td>
                            <td><button type="button" class="btn btn-primary" (click)="viewReport(i)">View Report</button></td>
                          </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>

        </div>
        <div *ngIf="!enabletable && enablereport">
            <div>
                <img src="./assets/images/back_button.png" class="back_button" (click)="enabletable=true;enablereport=false">
                <label style="text-align: center;">Report ID: 1256</label>
                <img src="./assets/images/printout.png" class="print_out" (click)="generatePDF()">
            </div>
            <div>
                <label style="font-size: 20px;color: red;">Trainee:</label>
                <div class="label_align">
                    <label>Army No: {{view_report?.trainee?.unique_ref_id}}</label>
                    <label>Rank: {{view_report?.trainee?.rank}}</label>
                    <label>Name: {{view_report?.trainee?.name}}</label>
                    <label>Unit: {{view_report?.trainee?.unit}}</label>
                    <label>Course ID: {{view_report?.trainee?.course}}</label>
                    <label>Time Taken: {{view_report?.trainee?.unique_ref_id}}</label>
                </div>  
                <label style="font-size: 20px;color: red;">Instructor:</label>
                <div class="label_align">
                    <label>Army No: {{view_report?.trainer?.unique_ref_id}}</label>
                    <label>Rank: {{view_report?.trainer?.rank}}</label>
                    <label>Name: {{view_report?.trainer?.name}}</label>
                    <label>Unit: {{view_report?.trainer?.unit}}</label>
                </div>  
                <div class="row py-3">
                    <table class="table table-striped" id="tableDataID">
                        <thead class="table_column">
                            <tr>
                                <th>Sl.no</th>
                                <th>Obstacle Name</th>
                                <th>Result</th>
                                <th>Remarks</th>
                                <th>Marks</th> 
                            </tr>	
                            <tr>
                                <td>1</td>
                                <td>Maria Anders</td>
                                <td>Germany</td>
                                <td>Alfreds</td>
                                <td>Maria Anders</td>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
  </div>

  <div id="reportContent" style="position: absolute; left: -9999px;">
    <div class="row" style="border-bottom: 1px solid rgb(178, 177, 177);">
        <app-header></app-header>
    </div>
    <div class="top_header mt-2" style="margin-left: 20px;">
        <label>Vehicle BA No: </label>
        <label style="text-align: center;">Report ID: 111</label>
        <label>{{getDatetime}}</label>
    </div>
    <div>
        <div style="margin-left: 20px;">
            <label style="font-size: 20px;color: red;">Trainee:</label>
            <div class="label_align">
                <label>Army No: {{view_report?.trainee?.unique_ref_id}}</label>
                <label>Rank: {{view_report?.trainee?.rank}}</label>
                <label>Name: {{view_report?.trainee?.name}}</label>
                <label>Unit: {{view_report?.trainee?.unit}}</label>
                <label>Course ID: {{view_report?.trainee?.course}}</label>
                <label>Time Taken: {{view_report?.trainee?.unique_ref_id}}</label>
            </div>  
            <label style="font-size: 20px;color: red;">Instructor:</label>
            <div class="label_align">
                <label>Army No: {{view_report?.trainer?.unique_ref_id}}</label>
                <label>Rank: {{view_report?.trainer?.rank}}</label>
                <label>Name: {{view_report?.trainer?.name}}</label>
                <label>Unit: {{view_report?.trainer?.unit}}</label>
            </div>  
            <div class="row py-3">
                <table class="table table-striped" id="tableDataID">
                    <thead class="table_column">
                        <tr>
                            <th>Sl.no</th>
                            <th>Obstacle Name</th>
                            <th>Result</th>
                            <th>Remarks</th>
                            <th>Marks</th> 
                        </tr>	
                        <tr>
                            <td>1</td>
                            <td>Maria Anders</td>
                            <td>Germany</td>
                            <td>Alfreds</td>
                            <td>Maria Anders</td>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
  </div>